@media not (-moz-bool-pref: 'nug-color-icons-disabled') {
	:root {
		--nug-icon-color: #cba6f7; /* Default fallback */
		@import 'context.css';
	}

	/* Custom icon color from preferences */
	@media (-moz-string-pref: 'nug-icon-color') {
		:root {
			--nug-icon-color: var(--nug-icon-color-custom, #cba6f7);
		}
	}

	/* Apply icon color to all toolbar icons */
	#navigator-toolbox .toolbarbutton-1 .toolbarbutton-icon,
	#nav-bar .toolbarbutton-1 .toolbarbutton-icon,
	toolbar .toolbarbutton-1 .toolbarbutton-icon {
		fill: var(--nug-icon-color) !important;
	}

	#downloads-button .toolbarbutton-icon,
	#downloads-indicator-icon {
		fill: var(--nug-icon-color) !important;
	}

	#identity-box[pageproxystate='valid'].chromeUI #identity-icon {
		list-style-image: url('icons/fox.svg') !important;
	}

	#forward-button image {
		list-style-image: url('chrome://global/skin/icons/arrow-right.svg') !important;
	}

	#back-button image {
		list-style-image: url('chrome://global/skin/icons/arrow-left.svg') !important;
	}

	#nav-bar-overflow-button {
		list-style-image: url('chrome://global/skin/icons/more.svg') !important;
	}

	#alltabs-button {
		list-style-image: url('chrome://global/skin/icons/arrow-down-12.svg') !important;
	}

	.bookmark-item[container='true'] {
		list-style-image: url('icons/bm.svg') !important;
		fill: var(--nug-icon-color) !important;
	}

	/* ublock on */
	#ublock0_raymondhill_net-BAP image {
		list-style-image: url('icons/lock.svg') !important;
		fill: var(--nug-icon-color) !important;
	}

	/* ublock off - keep red color for "off" state */
	#ublock0_raymondhill_net-BAP[tooltiptext='uBlock Origin (off)'] image {
		list-style-image: url('icons/lock.svg') !important;
		fill: #f38ba8 !important; /* Keep red for off state */
	}

	/* Dark Reader */
	:is(.webextension-browser-action, .eom-addon-button)[data-extensionid='addon@darkreader.org'] .toolbarbutton-icon {
		list-style-image: url('icons/moon.svg') !important;
		fill: var(--nug-icon-color) !important;
	}
}
